import{fn as I}from"./index-BgJgh-x_.js";import{j as b}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./index-DI7CEG0L.js";import{J as Ge,s as ce,r as ee,k as vn,u as Ne,T as bn,w,A as gn}from"./styles-B2Jwh0LJ.js";import{s as ie,V as P}from"./index-BzmpT3sc.js";var le={},g={centroidDimension:function(n,t,o,r){var a=n.touchBank,h=0,l=0,s=n.numberActiveTouches===1?n.touchBank[n.indexOfSingleActiveTouch]:null;if(s!==null)s.touchActive&&s.currentTimeStamp>t&&(h+=r&&o?s.currentPageX:r&&!o?s.currentPageY:!r&&o?s.previousPageX:s.previousPageY,l=1);else for(var u=0;u<a.length;u++){var c=a[u];if(c!=null&&c.touchActive&&c.currentTimeStamp>=t){var d=void 0;r&&o?d=c.currentPageX:r&&!o?d=c.currentPageY:!r&&o?d=c.previousPageX:d=c.previousPageY,h+=d,l++}}return l>0?h/l:g.noCentroid},currentCentroidXOfTouchesChangedAfter:function(n,t){return g.centroidDimension(n,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(n,t){return g.centroidDimension(n,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(n,t){return g.centroidDimension(n,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(n,t){return g.centroidDimension(n,t,!1,!1)},currentCentroidX:function(n){return g.centroidDimension(n,0,!0,!0)},currentCentroidY:function(n){return g.centroidDimension(n,0,!1,!0)},noCentroid:-1},Te=g.currentCentroidXOfTouchesChangedAfter,Re=g.currentCentroidYOfTouchesChangedAfter,wn=g.previousCentroidXOfTouchesChangedAfter,yn=g.previousCentroidYOfTouchesChangedAfter,Cn=g.currentCentroidX,Tn=g.currentCentroidY,F={_initializeGestureState(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove(e,n){e.numberActiveTouches=n.numberActiveTouches,e.moveX=Te(n,e._accountsForMovesUpTo),e.moveY=Re(n,e._accountsForMovesUpTo);var t=e._accountsForMovesUpTo,o=wn(n,t),r=Te(n,t),a=yn(n,t),h=Re(n,t),l=e.dx+(r-o),s=e.dy+(h-a),u=n.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(l-e.dx)/u,e.vy=(s-e.dy)/u,e.dx=l,e.dy=s,e._accountsForMovesUpTo=n.mostRecentTimeStamp},create(e){var n={handle:null,shouldCancelClick:!1,timeout:null},t={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0},o={onStartShouldSetResponder(r){return e.onStartShouldSetPanResponder==null?!1:e.onStartShouldSetPanResponder(r,t)},onMoveShouldSetResponder(r){return e.onMoveShouldSetPanResponder==null?!1:e.onMoveShouldSetPanResponder(r,t)},onStartShouldSetResponderCapture(r){return r.nativeEvent.touches.length===1&&F._initializeGestureState(t),t.numberActiveTouches=r.touchHistory.numberActiveTouches,e.onStartShouldSetPanResponderCapture!=null?e.onStartShouldSetPanResponderCapture(r,t):!1},onMoveShouldSetResponderCapture(r){var a=r.touchHistory;return t._accountsForMovesUpTo===a.mostRecentTimeStamp?!1:(F._updateGestureStateOnMove(t,a),e.onMoveShouldSetPanResponderCapture?e.onMoveShouldSetPanResponderCapture(r,t):!1)},onResponderGrant(r){return n.handle||(n.handle=Ge.createInteractionHandle()),n.timeout&&Rn(n),n.shouldCancelClick=!0,t.x0=Cn(r.touchHistory),t.y0=Tn(r.touchHistory),t.dx=0,t.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(r,t),e.onShouldBlockNativeResponder==null?!0:e.onShouldBlockNativeResponder(r,t)},onResponderReject(r){B(n,e.onPanResponderReject,r,t)},onResponderRelease(r){B(n,e.onPanResponderRelease,r,t),xe(n),F._initializeGestureState(t)},onResponderStart(r){var a=r.touchHistory;t.numberActiveTouches=a.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(r,t)},onResponderMove(r){var a=r.touchHistory;t._accountsForMovesUpTo!==a.mostRecentTimeStamp&&(F._updateGestureStateOnMove(t,a),e.onPanResponderMove&&e.onPanResponderMove(r,t))},onResponderEnd(r){var a=r.touchHistory;t.numberActiveTouches=a.numberActiveTouches,B(n,e.onPanResponderEnd,r,t)},onResponderTerminate(r){B(n,e.onPanResponderTerminate,r,t),xe(n),F._initializeGestureState(t)},onResponderTerminationRequest(r){return e.onPanResponderTerminationRequest==null?!0:e.onPanResponderTerminationRequest(r,t)},onClickCapture:r=>{n.shouldCancelClick===!0&&(r.stopPropagation(),r.preventDefault())}};return{panHandlers:o,getInteractionHandle(){return n.handle}}}};function B(e,n,t,o){e.handle&&(Ge.clearInteractionHandle(e.handle),e.handle=null),n&&n(t,o)}function Rn(e){clearTimeout(e.timeout)}function xe(e){e.timeout=setTimeout(()=>{e.shouldCancelClick=!1},250)}const M=ie.create({controlsContainer:{flexDirection:"row",justifyContent:le.isRTL?"flex-end":"flex-start",alignItems:"center"},highThumbContainer:{position:"absolute"},railsContainer:{...ie.absoluteFillObject,flexDirection:"row",alignItems:"center"},labelFixedContainer:{alignItems:le.isRTL?"flex-end":"flex-start"},labelFloatingContainer:{position:"absolute",left:0,right:0,alignItems:le.isRTL?"flex-end":"flex-start"},touchableArea:{...ie.absoluteFillObject},label:{backgroundColor:vn.black_01,paddingVertical:ee.XXS,paddingHorizontal:ee.XS,borderRadius:ce.XS}}),xn=(e,n,t)=>{if(n===t)return e<n;const o=Math.abs(e-n),r=Math.abs(e-t);return o<r},V=(e,n,t)=>Math.min(Math.max(e,n),t),Pn=(e,n,t,o,r,a)=>{const h=n-t,l=a/(r-o);let s=(e-t/2)/h;const u=s%l;return s-=u,u/l>=.5&&(s+=l),V(o+Math.round(s/l)*a,o,r)},Sn=(e,n)=>{const[t,o]=i.useState(Number.NaN);i.useImperativeHandle(n,()=>({setValue:r}));const r=a=>{o(a)};return b.jsx(P,{...e,style:[M.label,Ne.Light],children:b.jsx(bn,{typography:"label_s_medium",children:t})})},Mn=i.forwardRef(Sn),Vn=(e,n,t,o,r)=>{const a=e===void 0?t:V(e,t,o),h=n===void 0?o:V(n,t,o),l=i.useRef({low:a,high:h,step:r,min:a,max:h}),{low:s,high:u}=l.current,c={lowPrev:s,highPrev:u},d=V(e===void 0?s:e,t,o),y=V(n===void 0?u:n,t,o);return Object.assign(l.current,{low:d,high:y,min:t,max:o}),{inPropsRef:l,inPropsRefPrev:c,setLow:v=>l.current.low=v,setHigh:v=>l.current.high=v}},ze=(e,n)=>i.useCallback(({nativeEvent:t})=>{const{layout:{width:o}}=t,{current:r}=e;r!==o&&(e.current=o,n&&n(o))},[n,e]),Ln=(e,n,t,o,r,a)=>{const h=i.useRef(new w.Value(0)),l=i.useRef(0),s=i.useRef(null),{current:u}=h,c=i.useCallback((v,T)=>{var O;if(n.current.isLow&&r||!n.current.isLow&&a)return;const{current:X}=l,{current:k}=e,_=v-X/2;h.current.setValue(o?_:V(_,0,k-X)),(O=s.current)==null||O.setValue(T)},[l,e,o,r,a]),d=ze(l,()=>{c(n.current.lastPosition,n.current.lastValue)}),y={transform:[{translateX:u}]},C=t&&(n.current.isLow&&!r||!n.current.isLow&&!a);return[b.jsx(w.View,{style:[y,{opacity:C?1:0}],children:b.jsx(Mn,{onLayout:d,ref:s})}),c]},Xn=(e,n,t,o)=>{const{current:r}=i.useRef(new w.Value(0)),{current:a}=i.useRef(new w.Value(0)),h=i.useCallback(()=>{const{low:s,high:u,min:c,max:d}=e.current,{current:y}=n,C=(d-c)/(y-t),L=(s-c)/C,v=(d-u)/C;r.setValue(o?0:L),a.setValue(o?y-t-L:v)},[e,n,o,t,r,a]);return[i.useMemo(()=>({position:"absolute",left:r,right:a}),[r,a]),h]},On=e=>{const[n,t]=i.useState(0),o=i.useCallback(({nativeEvent:h})=>{const{layout:{height:l}}=h;t(l)},[]),r=e?-(n+ee.XS):ee.XS;return{style:[e?M.labelFloatingContainer:M.labelFixedContainer,{top:r}],onLayout:o}},Pe=()=>!0,ue=()=>!1,Be=i.memo(({min:e,max:n,minRange:t=0,step:o,low:r,high:a,floatingLabel:h=!1,allowLabelOverflow:l=!1,disableRange:s=!1,disabledHigh:u=!1,disabledLow:c=!1,onValueChanged:d,onSliderTouchStart:y,onSliderTouchEnd:C,...L})=>{const{theme:v}=i.useContext(gn),{inPropsRef:T,inPropsRefPrev:X,setLow:k,setHigh:_}=Vn(r,s?n:a,e,n,o),O=i.useRef(new w.Value(0)),ne=i.useRef(new w.Value(0)),q=i.useRef(new w.Value(0)).current,{current:de}=O,{current:he}=ne,R=i.useRef({isLow:!0,lastValue:0,lastPosition:0}),[Ee,me]=i.useState(!1),j=i.useRef(0),[p,Je]=i.useState(0),[Ke,A]=Xn(T,j,p,s),H=i.useCallback(()=>{const{current:m}=j;if(!p||!m)return;const{low:f,high:D}=T.current;if(!s){const{current:Y}=ne,oe=(D-e)/(n-e)*(m-p);Y.setValue(oe)}const{current:te}=O,re=(f-e)/(n-e)*(m-p);te.setValue(re),typeof A=="function"&&A(),d==null||d(f,D,!1)},[s,T,n,e,d,p,A]);i.useEffect(()=>{const{lowPrev:m,highPrev:f}=X;(r!==void 0&&r!==m||a!==void 0&&a!==f)&&H()},[a,X.lowPrev,X.highPrev,r]),i.useEffect(()=>{H()},[H]);const Qe=ze(j,H),Ze=i.useCallback(({nativeEvent:m})=>{const{layout:{width:f}}=m;p!==f&&Je(f)},[p]),$e=i.useMemo(()=>({transform:[{translateX:de}]}),[de]),en=i.useMemo(()=>s?null:[M.highThumbContainer,{transform:[{translateX:he}]}],[s,he]),nn=i.useMemo(()=>[M.railsContainer,{marginHorizontal:p/2}],[p]),[tn,U]=Ln(j,R,Ee,l,c,u),pe=m=>{const D=m==="low"&&c||m==="high"&&u?v.colors.text.disable:v.colors.primary;return b.jsx(P,{style:[Ne.Light,{width:20,height:20,borderRadius:ce.M,borderWidth:4,borderColor:v.colors.background.surface,backgroundColor:D}]})},rn=pe("low"),on=pe("high"),an=On(h),{panHandlers:sn}=i.useMemo(()=>F.create({onStartShouldSetPanResponderCapture:ue,onMoveShouldSetPanResponderCapture:ue,onPanResponderTerminationRequest:ue,onPanResponderTerminate:Pe,onShouldBlockNativeResponder:Pe,onMoveShouldSetPanResponder:(m,f)=>Math.abs(f.dx)>2*Math.abs(f.dy),onPanResponderGrant:({nativeEvent:m},f)=>{const{numberActiveTouches:D}=f;if(D>1)return;me(!0);const{current:te}=O,{current:re}=ne,{locationX:Y,pageX:oe}=m,un=oe-Y,{low:ve,high:be,min:W,max:ge}=T.current;y==null||y(ve,be);const G=j.current,cn=p/2+(ve-W)/(ge-W)*(G-p),dn=p/2+(be-W)/(ge-W)*(G-p),x=s||xn(Y,cn,dn);if(R.current.isLow=x,x&&c||!x&&u)return;const we=ae=>{const{low:N,high:ye,min:z,max:se,step:hn}=T.current,mn=x?z:N+t,pn=x?ye-t:se,S=V(Pn(ae,G,p,z,se,hn),mn,pn);if(R.current.lastValue===S)return;const fn=G-p,Ce=(S-z)/(se-z)*fn;R.current.lastValue=S,R.current.lastPosition=Ce+p/2,(x?te:re).setValue(Ce),d==null||d(x?S:N,x?ye:S,!0),(x?k:_)(S),U&&typeof U=="function"&&U(R.current.lastPosition,S),typeof A=="function"&&A()};we(Y),q.removeAllListeners(),q.addListener(({value:ae})=>{const N=ae-un;we(N)})},onPanResponderMove:(m,f)=>{(R.current.isLow?c:u)||w.event([null,{moveX:q}],{useNativeDriver:!1})(m,f)},onPanResponderRelease:()=>{me(!1);const{low:m,high:f}=T.current;R.current.isLow&&c||!R.current.isLow&&u||C==null||C(m,f)}}),[q,T,p,s,d,u,c,k,_,U,A]),fe=m=>b.jsx(P,{style:{width:"100%",height:4,borderRadius:ce.L,backgroundColor:m}}),ln=u&&c?v.colors.text.disable:v.colors.primary;return b.jsxs(P,{...L,children:[b.jsx(P,{...an,children:tn}),b.jsxs(P,{onLayout:Qe,style:M.controlsContainer,children:[b.jsxs(P,{style:nn,children:[fe(v.colors.background.default),b.jsx(w.View,{style:Ke,children:fe(ln)})]}),b.jsx(w.View,{style:$e,onLayout:Ze,children:rn}),!s&&b.jsx(w.View,{style:en,children:on}),b.jsx(P,{...sn,style:M.touchableArea,collapsable:!1})]})]})});Be.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{min:{required:!0,tsType:{name:"number"},description:`Specifies the minimum value permitted for selection in the slider. This value sets the lower
bound for the component.`},max:{required:!0,tsType:{name:"number"},description:"Specifies the maximum value allowed for selection. This value sets the upper bound for the component."},minRange:{required:!1,tsType:{name:"number"},description:`Optional. Defines the minimum permitted range between the low and high values of the slider.
Particularly useful when 'low' and 'high' values both exist, ensuring a certain spread between them.`,defaultValue:{value:"0",computed:!1}},step:{required:!0,tsType:{name:"number"},description:"Specifies the interval between individual step values. The slider's handle will move only in these increments."},low:{required:!1,tsType:{name:"number"},description:`Optional. Represents the initial lower value of the range when the component is used as a range slider.
This value is part of the selected range, between 'min' and 'high'.`},high:{required:!1,tsType:{name:"number"},description:`Optional. Represents the initial upper value of the range when used as a range slider.
This value is part of the selected range, between 'low' and 'max'.`},allowLabelOverflow:{required:!1,tsType:{name:"boolean"},description:"Optional. If `true`, allows the label to extend beyond the width of the Slider component itself,\nrather than being clipped at the component boundaries. Defaults to `false` if not provided.",defaultValue:{value:"false",computed:!1}},disableRange:{required:!1,tsType:{name:"boolean"},description:"Optional. If `true`, disables the range functionality of the slider, turning it into a regular\nsingle-value slider. Defaults to `false` if not provided.",defaultValue:{value:"false",computed:!1}},disabledHigh:{required:!1,tsType:{name:"boolean"},description:"Optional. If `true`, the 'high' handle of the slider will be disabled and cannot be moved.\nUseful for setting a maximum limit that users cannot increase. Defaults to `false` if not provided.",defaultValue:{value:"false",computed:!1}},disabledLow:{required:!1,tsType:{name:"boolean"},description:"Optional. If `true`, the 'low' handle of the slider will be disabled and cannot be moved.\nUseful for setting a minimum limit that users cannot decrease. Defaults to `false` if not provided.",defaultValue:{value:"false",computed:!1}},floatingLabel:{required:!1,tsType:{name:"boolean"},description:"Optional. If `true`, labels will be displayed in a floating manner above the slider handles,\ntypically used to display the current value. Defaults to `false` if not provided.",defaultValue:{value:"false",computed:!1}},onValueChanged:{required:!1,tsType:{name:"signature",type:"function",raw:"(low: number, high: number, byUser: boolean) => void",signature:{arguments:[{type:{name:"number"},name:"low"},{type:{name:"number"},name:"high"},{type:{name:"boolean"},name:"byUser"}],return:{name:"void"}}},description:`Optional. A callback function triggered when the slider value changes, either by the user or programmatically.
It receives the new low and high values of the slider, as well as a boolean indicating if the change was made by the user.`},onSliderTouchStart:{required:!1,tsType:{name:"signature",type:"function",raw:"(low: number, high: number) => void",signature:{arguments:[{type:{name:"number"},name:"low"},{type:{name:"number"},name:"high"}],return:{name:"void"}}},description:`Optional. A callback function triggered when the user starts touching the slider's draggable area.
It receives the current low and high values of the slider.`},onSliderTouchEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"(low: number, high: number) => void",signature:{arguments:[{type:{name:"number"},name:"low"},{type:{name:"number"},name:"high"}],return:{name:"void"}}},description:`Optional. A callback function triggered when the user releases the slider's draggable area.
It receives the current low and high values of the slider.`}},composes:["ViewProps"]};const jn={title:"Library/Slider",component:Be,parameters:{layout:"centered"},tags:["autodocs"]},E={args:{min:0,max:100,step:1,onValueChanged:I()}},J={args:{min:0,max:100,step:1,low:20,high:80,onValueChanged:I()}},K={args:{min:0,max:100,step:1,low:20,high:80,minRange:20,onValueChanged:I()}},Q={args:{min:0,max:100,step:1,floatingLabel:!0,onValueChanged:I()}},Z={args:{min:0,max:100,step:1,disableRange:!0,onValueChanged:I()}},$={args:{min:0,max:100,step:1,low:20,high:80,disabledLow:!0,disabledHigh:!0,onValueChanged:I()}};var Se,Me,Ve;E.parameters={...E.parameters,docs:{...(Se=E.parameters)==null?void 0:Se.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    onValueChanged: fn()
  }
}`,...(Ve=(Me=E.parameters)==null?void 0:Me.docs)==null?void 0:Ve.source}}};var Le,Xe,Oe;J.parameters={...J.parameters,docs:{...(Le=J.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    low: 20,
    high: 80,
    onValueChanged: fn()
  }
}`,...(Oe=(Xe=J.parameters)==null?void 0:Xe.docs)==null?void 0:Oe.source}}};var Ae,De,Fe;K.parameters={...K.parameters,docs:{...(Ae=K.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    low: 20,
    high: 80,
    minRange: 20,
    onValueChanged: fn()
  }
}`,...(Fe=(De=K.parameters)==null?void 0:De.docs)==null?void 0:Fe.source}}};var Ie,_e,je;Q.parameters={...Q.parameters,docs:{...(Ie=Q.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    floatingLabel: true,
    onValueChanged: fn()
  }
}`,...(je=(_e=Q.parameters)==null?void 0:_e.docs)==null?void 0:je.source}}};var Ye,ke,qe;Z.parameters={...Z.parameters,docs:{...(Ye=Z.parameters)==null?void 0:Ye.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    disableRange: true,
    onValueChanged: fn()
  }
}`,...(qe=(ke=Z.parameters)==null?void 0:ke.docs)==null?void 0:qe.source}}};var He,Ue,We;$.parameters={...$.parameters,docs:{...(He=$.parameters)==null?void 0:He.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 1,
    low: 20,
    high: 80,
    disabledLow: true,
    disabledHigh: true,
    onValueChanged: fn()
  }
}`,...(We=(Ue=$.parameters)==null?void 0:Ue.docs)==null?void 0:We.source}}};const Yn=["Default","WithRange","WithMinRange","WithFloatingLabels","WithDisabledRange","WithDisabledHandles"];export{E as Default,$ as WithDisabledHandles,Z as WithDisabledRange,Q as WithFloatingLabels,K as WithMinRange,J as WithRange,Yn as __namedExportsOrder,jn as default};
